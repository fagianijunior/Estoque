<% if @model.errors.any? -%>
  /*Hide the flash notice div*/
  $(".flash").hide(300);

  $(".erro").hide(300);
  /*Update the html of the div post_errors with the new one*/
  $(".erro").html("<%= escape_javascript('Houve um erro ao tentar adicionar o registro') %>");

  /*Show the div post_errors*/
  $(".erro").show(300);
<% else -%>
  /*Hide the div post_errors*/
  $(".erro").hide(300); 

  $(".flash").fadeOut(200);

  /*Update the html of the div flash_notice with the new one*/
  $(".flash").html("<%= escape_javascript(flash[:notice])%>");

  /*Show the flash_notice div*/
   $(".flash").fadeIn(200); 

  /*Clear the entire form*/
  $(":input[type='text']").val("");

  /*Replace the html of the div post_lists with the updated new one*/
  $("<%= #{lista} %>").fadeOut(200);
  $("<%= #{lista} %>").html("<%= escape_javascript( render(partial: "#{partial}") ) %>");
  $("<%= #{lista} %>").fadeIn(200);
<% end -%>